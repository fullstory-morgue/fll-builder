<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Sidux Manuals - Hard Disk Istallation</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css">@import url("../lib/css-js/content.css");</style>
	<style type="text/css">@import url("../lib/css-js/menu.css");</style>
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
</head>
<body id="hd">
<div id="menu">
<!-- menu starts here -->
<img src="../lib/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Zur&#252;ck zum sidux Hauptmen&#252;</a></li>
	</ul>
	<!--<h2>Welcome to the Official Sidux Manual</h2>-->
	<ul>
<!-- menu last updated by bluewater 22/12/2006 0230hrs ADEST 21/12/2006 1530hrs UTC -->
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome-de.htm">Willkommen bei sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome-de.htm#welcome-gen">Offizielles Handbuch</a></li>
				<li><a href="welcome-de.htm#how-to">Tips zum Handbuch</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content-de.htm">CD Inhalt</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content-de.htm#cd-content">CD Inhalt</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cd-dl-burning-de.htm">CD Herunterladen &amp; Brennen</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cd-dl-burning-de.htm#download-sidux">CD Herunterladen&amp;Brennen</a></li>
				<li><a href="cd-dl-burning-de.htm#md5">md5 Pr&#252;fsummen</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-nero">Brennen in Windows</a></li>
				<li><a href="cd-dl-burning-de.htm#burn-linux">Brennen in Linux</a></li>
				<li><a href="cd-dl-burning-de.htm#IO-errors">Ein-/Ausgabefehler</a></li>
				<li><a href="cd-dl-burning-de.htm#xdelta">xdelta Patches</a></li>
				<li><a href="cd-no-gui-burn-de.htm">Brennen ohne GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode-de.htm">LiveCD Modus</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode-de.htm#rootpw">Das Rootpasswort der sidux-LiveCD</a></li>
				<li><a href="live-mode-de.htm#unionfs">Unionfs - Software im LiveCD Modus installieren</a></li>
				<li><a href="live-mode-de.htm#ntfs-3g">Schreiben auf NTFS Partitionen mit ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="cheatcodes-de.htm">Boot CheatCodes</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="cheatcodes-de.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga-de.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="internet-connecting-de.htm">Internet und Netzwerk</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="ntp-server-de.htm#ntp-server">Timeserver Setup</a></li>
				<li><a href="internet-connecting-de.htm#internetsharing">Internet teilen</a></li>
				<li><a href="samba-de.htm#ssh-x">X Window Programme via SSH verwenden</a></li>
				<li><a href="samba-de.htm#ssh-f">GUI SSH mit Konqueror</a></li>
				<li><a href="samba-de.htm#ssh-w">SSH X-Forwarding von Windows</a></li>
				<li><a href="samba-de.htm#configure">SAMBA Windows Freigaben nutzen</a></li>
				<li><a href="samba-de.htm#setup">Samba Server aufsetzen</a></li>
				<li>
				<a href="internet-connecting-de.htm#ndiswrapper">Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa-de.htm#wpa">WIFI-WLAN</a></li>
				<li><a href="internet-connecting-de.htm#netcardconfig">Internet &amp; Netzwerk</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="part-gparted-de.htm">Partitionieren der Festplatte</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="part-gparted-de.htm#partition">mit GParted</a></li>
				<li><a href="part-gparted-de.htm#ntfs">NTFS-Partitionen mit GParted &#228;ndern</a></li>
				<li><a href="part-cfdisk-de.htm#disknames">Namen der Festplatten</a></li>
				<li><a href="part-cfdisk-de.htm#partition">mit cfdisk</a></li>
				<li><a href="part-cfdisk-de.htm#formating">Formatieren mit cfdisk</a></li>
				<li><a href="part-size-examp-de.htm#part-example">Partitionsgr&#246;&#223;en: Beispiele</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install-de.htm">Installationsoptionen</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install-de.htm#Inst-prep">Vorbereiten der Installation</a></li>
				<li><a href="hd-install-de.htm#Installation">Installation auf die Festplatte</a></li>
				<li><a href="hd-install-de.htm#first-hd-boot">Erstes Booten von der Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#perst-home">Permanentes Homeverzeichnis</a></li>
				<li><a href="hd-install-opts-de.htm#fromiso">Booten 'fromiso'</a></li>
				<li><a href="hd-install-opts-de.htm#usb-hd">Installation auf eine USB-Festplatte</a></li>
				<li><a href="hd-install-opts-de.htm#qemu">Installation &#252;ber qemu</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="term-konsole-de.htm">Der Terminal / die Konsole</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="term-konsole-de.htm#konsole"> Terminal/Konsole</a></li>
				<li><a href="term-konsole-de.htm#cli-help">Kommadozeilenhilfe</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri-de.htm">Graphikkarten, Hardware Ger&#228;te und Treiber</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="hw-dev-hw-dri-de.htm#nvidia">nVidia</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#ati">ATI</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#native">Native</a></li>
				<li><a href="hw-dev-hw-dri-de.htm#hd-ntfs3g">HD Schreiben auf NTFS Partitionen mit ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="kde-de.htm">KDE</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="kde-de.htm#desk-freeze">KDE Desktop friert ein</a></li>
				<li><a href="kde-de.htm#kde-login">Kein Login in KDE</a></li>
				<li><a href="kde-de.htm#ch-th">Themes &#228;ndern</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="sys-admin-apt-de.htm">System Administration</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="sys-admin-apt-de.htm#apt-cook">APT Kochbuch</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-install">Neue Pakete installieren</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-delete">Pakete l&#246;schen</a></li>
				<li><a href="sys-admin-apt-de.htm#apt-upgrade">Upgrade eines installierten Systems</a></li>
				<li><a href="sys-admin-upgrade-de.htm#live-cd-upgrade">Upgrade durch die LiveCD</a></li>
				<li><a href="sys-admin-upgrade-de.htm#hd-upgrade">Upgrade einer Festplatteninstallation</a></li>
				<li><a href="sys-admin-kern-upg-de.htm#kern-upgrade">Upgrade des Kernels</a></li>
				<li><a href="sys-admin-de.htm#start-services">Einen Dienst in sidux starten</a></li>
				<li><a href="sys-admin-de.htm#pw-lost">Root Passwort vergessen</a></li>
				<li><a href="sys-admin-de.htm#mon-res">Aufl&#246;sung des Bildschirms</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#mbr-grub-boot">MBR - Bootsektor &#252;berschrieben</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#boot-grub-floppy">Eine Boot-Floppy erstellen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#remove-grub">Grub vom MBR enfernen</a></li>
				<li><a href="sys-admin-grub-bootman2-de.htm#what-is-grub">Grub der Bootmanager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here -->
</div>
<div id="main-page">
	<div class="divider" id="perst-home">
		<h2>Ein permanentes Home-Verzeichnis zur Benutzung mit der Live-Cd erstellen</h2>

		<p  class="highlight-2">F&#252;r normalen Gebrauch empfehlen wir das ext3 Dateisystem. Ext3 ist das Standard sidux Dateisystem und gut gepflegt.</p>

		<p>Mit der sidux Live_cd kann man ein permanentes $HOME Verzeichnis einrichten, um Konfiguration, Benutzerdaten und zus&#228;tzlich installierte Pakete zu speichern.</p>

		<p>Es gibt 2 Wege, um die Live-CD zu nutzen:<br />
		1) Aus dem CD- /DVD-Laufwerk, oder <br />
		2) man legt das ISO auf die Festplatte und nutzt es von dort. <span class="highlight-1">Mehr zu <a href="hd-install-opts.htm#fromiso">"fromiso"</a>.</span></p>

		<p>Der Methode &#252;ber das Iso auf HD ist ungleich schneller und hat den Vorteil, dass das Laufwerk frei ist.</p>

		<p>Das permamente $HOME Verzeichnis kann auf dem PC gespeichert werden, aber auch auf einen USB-Stick.</p>

		<p>Zuerst muss <a href="live-mode.htm#unionfs">Unionfs</a> aktiviert werden. Dazu kann man den Unionfs Cheatcode <span class="highlight-3">unionfs</span> in der Bootzeile hinzuf&#252;gen, oder das Unionfs-Skript in der Shell verwenden:</p>

<pre>$ su-me-dummy
# fix-unionfs</pre>


		<p>Man k&#246;nnte nat&#252;rlich auch <a href="hd-install-opts.htm#vmware">QEMU</a> daf&#252;r nehmen.</p>

		<p>Nun wird das Skript zur Erzeugung der Konfigurationsdatei (config.tbz) ausgef&#252;hrt:</p>
		<pre>sidux-Menue > Konfiguration > Konfiguration speichern</pre>

		<p>und speichern es auf den USB-Stick. Zum Testen kann man nat&#252;rlich auch eine Partition der Festplatte nehmen, wenn kein Stick zur Hand ist. Als n&#228;chstes legen wir die Image-Datei f&#252;r das Home-Verzeichnis an:</p>

<pre># sidux-Menue > Konfiguration > Permanentes sidux-Homverzeichnis einrichten</pre>

		<p>Achtet auf ausreichende Gr&#246;&#223;e, damit sp&#228;ter installierte Software hineinpasst. Jetzt legt Ihr im Homeverzeichnis des Users <span class="highlight-3">/home/sidux</span><!--dummy--> mit Konqueror oder einem Tool Eurer Wahl einen leeren Ordner namens unionfs an.</p>

		<p>Dann booten wir neu und geben am Grub-Bootscreen folgende Cheatcodes ein:</p>

<pre>myconfig=scan home=scan unionrw=/home/sidux/unionfs</pre>

		<p>Jetzt ist der Rechner bereit f&#252;r die Installation zus&#228;tzlicher Software. Das geht ganz normal mit den &#252;blichen Schritten:</p>

<pre>#sux-dummy 
#apt-get update
#apt-get install paketname</pre>

		<p>Wenn Ihr das n&#228;chste Mal booted, stehen mit Eingabe von <span class="highlight-3"> myconfig=scan home=scan unionrw=/home/sidux/unionfs</span> in den Bootprompt die nachinstallierten Programme zur Verf&#252;gung.</p>
	</div>
	<div class="divider" id="fromiso">
		<h2>Booten "fromiso"</h2>

		<p>Dieser Cheatocode startet aus einer ISO Datei auf der Festplatte. Das ist viel schneller als von einer CD (Festplatten Installationen "fromiso" dauern nur einen Teil der normalen Zeit. Manche sagen weniger als 4 Minuten, aber 6-8 Minuten ist an sich schon schnell).</p>

		<p>Dies ist nat&#252;rlich viel schneller als von einer CD, und das Laufwerk steht zur Verf&#252;gung. Alternativ kann man auch <a href="hd-install-opts.htm">QEMU</a> verwenden.</p>

		<h6>Vorraussetzungen:</h6>

		<p>* ein funktionierende Grub-Installation (auf Floppy, einer Festplatteninstallation oder der LiveCD)<br />
		* ein sidux ISO Abbild , e.g. sidux.iso</p>

		<p>Zuerst suchen wir einen Ort f&#252;r die ISO-Datei. Um kurze Pfadnamen zu erhalten erstellen wir ein Basis-Verzeichnis namens sidux, z.B. auf /dev/hda5 und kopieren das ISO hinein:</p>

<pre># mkdir /media/hda5/sidux
# mv sidux.iso /media/hda5/sidux</pre>

		<p>Wir mounten das ISO:</p>

<pre># mkdir -p /mnt/test
# mount -t iso9660 -o loop,ro /media/hda5/sidux/sidux.iso /mnt/test</pre>

		<p>Wir kopieren die Dateien miniroot.gz und vmlinuz aus dem gemounteten ISO:</p>

<pre># cp /mnt/test/boot/vmlinuz /media/hda5/sidux/
# cp /mnt/test/boot/miniroot.gz /media/hda5/sidux/</pre>

		<p>Nun muss Grub noch angepasst werden. Dazu &#246;ffnen wir die <span class="highlight-3">/boot/grub/menu.lst</span> und f&#252;gen folgendes hinzu:</p>

<pre>### ISO boot
title sidux 32bit from ISO
kernel (hd0,4)/sidux/vmlinuz ramdisk_size=100000 init=/etc/init fromiso=/sidux/*.iso noprompt noeject lang=de apm=power-off nomce quiet
initrd (hd0,4)/sidux/miniroot.gz</pre>

		<p>Beim n&#228;chsten Booten ist eine neue Auswahl im Grub "sidux 32bit from ISO".</p>
	</div>

	<div class="divider" id="usb-hd"> 
		<h2>sidux auf einen USB-Stick installieren</h2>

		<p>Um eine Installation von sidux auf eine USB Festplatte zu machen sind gegen&#252;ber der normalen HD-Installation einige zus&#228;tzliche Schritte notwendig.</p>

		<p>Wir fangen mit der normalen Installation an und w&#228;hlen die Partition auf der USB Platte auf der sidux installiert wird aus. (Im folgenden sprechen wir von "sda1" aber das gilt f&#252;r irgendeine andere Partition auf einer USB Festplatte).</p>

		<p>Danach sind folgenden &#196;nderungen als root vorzunehmen:</p>

<pre># mount /dev/sda1 /media/sda1
# mount --bind /proc /media/sda1/proc
# chroot /media/sda1

# echo ehci-hcd >> /etc/mkinitrd/modules
# echo libusual >> /etc/mkinitrd/modules
# echo usb-storage >> /etc/mkinitrd/modules</pre>

		<p>In der Datei: <span class="highlight-3">/etc/mkinitrd/mkinitrd.conf</span> wird der Wert der Variable DELAY auf 10 gesetzt mit Hilfe des Kommandos:</p>

<pre># perl -pi -e 's/^(DELAY)=.*/\1=10/' /etc/mkinitrd/mkinitrd.conf
# perl -pi -e 's/mkext2fs/mkcramfs/' /etc/mkinitrd/mkinitrd.conf</pre>

		<p>Wir erzeugen nun ein neues initrd Image:</p>

<pre># mkinitrd -o /boot/initrd.img-$(uname -r)</pre>

		<p class="highlight-2">Fehlermeldung &#252;ber fehlende Module k&#246;nnen ignoriert werden</p>

		<p>Die Datei <span class="highlight-3">/boot/grub/menu.lst</span> soll angepa&#223;t werden. Daf&#252;r sehen wir in der Datei nach:</p>

<pre># cat /boot/grub/device.map
(hd0) /dev/hda
(hd1) /dev/sda</pre>

	<p>und f&#252;hren folgende Befehle aus um eine notwendige Korrektur in der Datei <span class="highlight-3">/boot/grub/menu.lst</span> zu machen und dort der richtige Harddisk hinzuschreiben:</p>

<pre># perl -pi -e 's/hd1/hdX/' /boot/grub/menu.lst
# perl -pi -e 's/hd0/hd1/' /boot/grub/menu.lst
# perl -pi -e 's/hdX/hd0/' /boot/grub/menu.lst</pre>

		<p>Man kann nun von seiner USB-Installation booten.</p>

	<div class="divider" id="qemu">
		<h2>sidux mit QEMU installieren</h2>

		<ul>
		<li>1. ein Festplatten Image f&#252;r qemu erstellen</li>
		<li>2. das ISO mit qemu booten</li>
		<li>3. vom Image installieren</li>
		</ul>
		<p>QEMU aktivieren:</p>
<pre>
qemu -cdrom /tmp/pkg/sidux-debug.iso -net nic -net user -m 512
</pre>
	

	</div>
	<div class="spacer05"></div>
</div>
</div>
</body>
</html>