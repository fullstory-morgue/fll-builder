<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Sidux Faqs - Samba Configuration</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<style type="text/css">@import url("../lib/css-js/content.css");</style>
	<style type="text/css">@import url("../lib/css-js/menu.css");</style>
	<script type="text/javascript" src="../lib/css-js/menu2.js"></script>
</head>
<body>
<div id="menu">
<!-- menu starts here -->
<img src="../lib/sidux-logo.png" alt="logo" id="menu-header" />
	<ul id="top-list">
		<li><a href="http://sidux.com/">Back to main sidux menu</a></li>
	</ul>
	<!--<h2>Welcome to the Official Sidux Manual</h2>-->
	<ul>
<!-- menu last updated by bluewater 21/12/2006 1900hrs ADEST 21/12/2006 0800hrs UTC -->
		<li  onmouseover="showHide( 1 );" onmouseout="startTime();" ><a href="welcome.htm">Welcome to Sidux</a>
			<ul class="sub-menu" id="sm1">
				<li><a href="welcome.htm#welcome-gen">Official Manual</a></li>
				<li><a href="welcome.htm#how-to">How to use this manual</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 2 );" onmouseout="startTime();" ><a href="cd-content.htm">CD Contents</a>
			<ul class="sub-menu" id="sm2">
				<li><a href="cd-content.htm#cd-content">CD Contents</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 6 );" onmouseout="startTime();" ><a href="cd-dl-burning.htm">CD Downloading and Burning</a>
			<ul class="sub-menu" id="sm6">
				<li><a href="cd-dl-burning.htm#download-sidux">CD Downloading and Burining</a></li>
				<li><a href="cd-dl-burning.htm#md5">md5 Checksum</a></li>
				<li><a href="cd-dl-burning.htm#burn-nero">Burning in Windows</a></li>
				<li><a href="cd-dl-burning.htm#burn-linux">Burning in Linux</a></li>
				<li><a href="cd-dl-burning.htm#IO-errors">I.O errors</a></li>
				<li><a href="cd-dl-burning.htm#xdelta">xdelta Patching</a></li>
				<li><a href="cd-no-gui-burn.htm">Burning without a GUI</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 4 );" onmouseout="startTime();" ><a href="live-mode.htm">Live Mode</a>
			<ul class="sub-menu" id="sm4">
				<li><a href="live-mode.htm#rootpw">Root-password on the sidux-LiveCD?</a></li>
				<li><a href="live-mode.htm#unionfs">Unionfs - Install software in live mode</a></li>
				<li><a href="live-mode.htm#ntfs-3g">Writing on NTFS-partitions with ntfs-3g</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 7 );" onmouseout="startTime();" ><a href="cheatcodes.htm">CheatCodes</a>
			<ul class="sub-menu" id="sm7">
				<li><a href="cheatcodes.htm#cheatcodes">Cheatcodes</a></li>
				<li><a href="cheatcodes-vga.htm#vga">VGA Codes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 3 );" onmouseout="startTime();" ><a href="internet-connecting.htm">Internet and Networking</a>
			<ul class="sub-menu" id="sm3">
				<li><a href="ntp-server.htm#ntp-server">Timeserver Setup</a></li>
				<li><a href="samba.htm#configure">Configuring SAMBA (Windows)</a></li>
				<li><a href="samba.htm#setup">Samba-Server Setup</a></li>
				<li><a href="samba.htm#ssh-x">X Window Apps via SSH</a></li>
				<li><a href="samba.htm#ssh-f">GUI SSH with Konqueror</a></li>
				<li><a href="samba.htm#ssh-w">SSH X-Forwarding from a Windows-PC:</a></li>
				<li><a href="internet-connecting.htm#ndiswrapper">Activating Ndiswrapper</a></li>
				<li><a href="internet-connecting-wpa.htm#wpa">WIFI-wlan</a></li>
				<li><a href="internet-connecting.htm#internetsharing">Internet Sharing</a></li>
				<li><a href="internet-connecting.htm#netcardconfig">Getting Online</a></li>

			</ul>
		</li>
		<li  onmouseover="showHide( 5 );" onmouseout="startTime();" ><a href="part-gparted.htm">Partitioning Your Hard Drive</a>
			<ul class="sub-menu" id="sm5">
				<li><a href="part-gparted.htm#partition">Paritioning your HD using GParted</a></li>
				<li><a href="part-gparted.htm#ntfs">NTFS partition Resizing using GParted</a></li>
				<li><a href="part-cfdisk.htm#disknames">Disk Naming</a></li>
				<li><a href="part-cfdisk.htm#partition">Partitioning  your HD using cfdisk</a></li>
				<li><a href="part-cfdisk.htm#formating">Formating partitions after partitioning with cfdisk</a></li>
				<li><a href="part-size-examp.htm#part-example">Partition Size Examples</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 8 );" onmouseout="startTime();" ><a href="hd-install.htm">Installation options</a>
			<ul class="sub-menu" id="sm8">
				<li><a href="hd-install.htm#Inst-prep">Install Preparation</a></li>
				<li><a href="hd-install.htm#Installation">Installing to your HD</a></li>
				<li><a href="hd-install.htm#first-hd-boot">First Boot Up</a></li>
				<li><a href="hd-install-opts.htm#perst-home">Persistant Home</a></li>
				<li><a href="hd-install-opts.htm#fromiso">Booting 'fromiso'</a></li>
				<li><a href="hd-install-opts.htm#usb-hd">Installing on a USB-HD</a></li>
				<li><a href="hd-install-opts.htm#qemu">Installing by QEMU</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 9 );" onmouseout="startTime();" ><a href="term-konsole.htm">The Terminal/Konsole</a>
			<ul class="sub-menu" id="sm9">
				<li><a href="term-konsole.htm#konsole"> Terminal/Konsole</a></li>
				<li><a href="term-konsole.htm#cli-help">Command Line Help</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 10 );" onmouseout="startTime();" ><a href="hw-dev-hw-dri.htm">Graphic Cards, Hardware Devices and Drivers</a>
			<ul class="sub-menu" id="sm10">
				<li><a href="hw-dev-hw-dri.htm#nvidia">nVidia</a></li>
				<li><a href="hw-dev-hw-dri.htm#ati">ATI</a></li>
				<li><a href="hw-dev-hw-dri.htm#native">Native</a></li>
				<li><a href="hw-dev-hw-dri.htm#hd-ntfs3g">Writing to NTFS</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 12 );" onmouseout="startTime();" ><a href="kde.htm">KDE</a>
			<ul class="sub-menu" id="sm12">
				<li><a href="kde.htm#desk-freeze">KDE Desktop Freezes</a></li>
				<li><a href="kde.htm#kde-login">Cant login in KDE</a></li>
				<li><a href="kde.htm#ch-th">Changing Themes</a></li>
			</ul>
		</li>
		<li  onmouseover="showHide( 11 );" onmouseout="startTime();" ><a href="sys-admin-apt.htm">System Administration</a>
			<ul class="sub-menu" id="sm11">
				<li><a href="sys-admin-apt.htm#apt-cook">APT-Guide Cookbook</a></li>
				<li><a href="sys-admin-apt.htm#apt-install">Installing a new package</a></li>
				<li><a href="sys-admin-apt.htm#apt-delete">Deleting a package</a></li>
				<li><a href="sys-admin-apt.htm#apt-upgrade">Upgrade of an Installed System</a></li>
				<li><a href="sys-admin-upgrade.htm#live-cd-upgrade">Upgrading using your Live-CD</a></li>
				<li><a href="sys-admin-upgrade.htm#hd-upgrade">HD installed Upgrade</a></li>
				<li><a href="sys-admin-kern-upg.htm#kern-upgrade">Uprading the kernel</a></li>
				<li><a href="sys-admin.htm#start-services">Enabling services in sidux</a></li>
				<li><a href="sys-admin.htm#pw-lost">Lost root passwords</a></li>
				<li><a href="sys-admin.htm#mon-res">Screen Resolutions</a></li>
				<li><a href="sys-admin-grub-bootman2.htm#mbr-grub-boot">MBR Overwritten bootsector</a></li>
				<li><a href="sys-admin-grub-bootman2.htm#boot-grub-floppy">Creating a Boot-Floppy</a></li>
				<li><a href="sys-admin-grub-bootman2.htm#remove-grub">Removing grub from MBR</a></li>
				<li><a href="sys-admin-grub-bootman2.htm#what-is-grub">Grub the bootmanager</a></li>
			</ul>
		</li>
	</ul>
<!-- menu ends here -->

</div>
<div id="main-page">
	<div class="divider" id="configure">
		<h2>Configuring sidux to use SAMBA (Windows) Shares from Remote Machines</h2>
		
		<p>Do all commands as <b>root</b> (in a Terminal or Konsole)
		Put the URL in Konqueror (run Konqueror as normal user).</p>
		
		<p class="highlight-1">server = servername or IP of the Windows Machine<br />
		<span class="highlight-1">share = name of the share</span></p>
		
		<p>In KDE - Konqueror put in the URL <span class="highlight-3">smb://server</span> or the complete URL <span class="highlight-3">smb://server/share</span></p>
		
		<p>In a konsole you can see the shares located on a server by:</p>
<pre>smbclient -L server</pre>
		
		<p>To mount a share in a directory -(with full access for ALL Users) remember this:
		Mountpoint must exist. If it does not, you must first create directory like this (Name is arbitrary):</p>
<pre>mkdir -p /mnt/server_share</pre>
		
		<p>Then mount the share - remote filesystem VFAT:</p>
<pre>mount -t smbfs -o username=Administrator,fmask=777,dmask=777 //server/share /mnt/server_share</pre>
		
		<p>or remote filesystem NTFS:</p>
<pre>mount -t smbfs -o username=Administrator,fmask=777,dmask=777,lfs //server/share /mnt/server_share</pre>
		
		<p>To terminate the connection, use:</p>
<pre>umount /mnt/server_share</pre>
		
		<p>If you want to put an entry in <i>/etc/fstab</i> to make the mount easier then insert the following line  on that file:</p>
<pre>//server/share  /mnt/server_share       smbfs  defaults,username=your_username,password=**********,fmask=777,dmask=777   0   0</pre>
	</div>
	<div class="divider" id="setup">
		<h2>How to set up sidux as Samba-Server</h2>
		
		<p>From the sidux Live-CD all you need to setup/start a simple Samba-Server is the call of the script <b>sambastart</b>, which is also found in KDE-menu under sidux-Server.</p>
		
		<p>On a HD-Install it is neccessary to adjust the Samba Configuration. Here is a simple example. If you want to know more about the usage of Samba and the setup of a Linux Samba Server <a href="http://us5.samba.org/samba/"> advisable to read the Samba Documentation.</a>.</p>
		
		<p>To adjust the samba-configuration you do as follows:</p>
		
		<p>you open the file <span class="highlight-3">/etc/samba/smb.conf</span> in an editor (e.a. kedit) and enter this:</p>
		
<pre># Globale Changes - Proposal everything simple as
#possible - no passwords, perform like Windows 9x

[global]
security = share
workgroup = WORKGROUP

# Share without write-permission -important if NTFS Filesystems are to be shared!

[WINDOWS]
comment = Windows Partition
browseable = yes
writable = no
path = /media/hda1 # &lt;-- adjust to your partition
public = yes

# Sharing a partition with permission to write- the partition has to be mounted
# writable - makes sense with e.g. FAT32.

[DATA]
comment = Data Partition (first extended Partition)
browseable = yes
writable = yes
path = /media/hda5
public = yes</pre>
	
		<p>Dont forget to save. You can now start/stop samba with</p>
<pre>/etc/init.d/samba start</pre>
		<p>and</p>
<pre>/etc/init.d/samba stop</pre>
		
		<p>You can also start/stop samba automaticaly at boot-time. Issue this call:</p>
		
<pre>unfreeze-rc.d
update.rc.d samba defaults
freeze-rc.d</pre>
		
		<p>Now samba starts when you boot and stops when you shutdown.</p>

		<div class="divider" id="ssh-x">
			<h2>Using X Window Applications Via Network Through SSH</h2>

			<p>Running an application on a remote computer and have its graphical user interface displayed on your local machine.</p>

			<p>Presumption:<br />
			* sidux<br />
			* local computer's IP: 192.168.1.10/24 (only displaying X11)<br />
			* remote computer's IP: 192.168.1.2/24 (actually running X11 application)</p>

			<h6>Configuration:</h6>

			<p>On the remote computer change in <span class="highlight-3">/etc/hosts.allow</span> a line to add rights for ssh access: </p>
<pre>
ssh sshd : 192.168.1.0/24 : ALLOW # e.g. allow all local area network adresses to access the ssh server :code:
</pre>
			<p>Open a konsole and enter the command for establishing an ssh connection with X-Forwarding:</p>
<pre>
ssh -X 192.168.1.2
(enter your ssh password when prompted for it, 
or the password to the ssh key if you have sent 
your pub key to the remote and there added it 
to the user's authorized_keys files)
</pre>

			<p>Run the X-Application in the shell, for example "firefox".</p>

<pre>
ssh -X 192.168.1.2
(enter your ssh password when prompted for it, 
or the password to the ssh key if you have sent 
your pub key to the remote and there added it 
to the user's authorized_keys files)
firefox
</pre>

		<div class="divider" id="ssh-w">
			<h2>Remote access ssh with X-Forwarding from a Windows-PC:</h2>

			<p>* Download and burn the <a href="http://xlivecd.indiana.edu/">Cygwin XLiveCD</a><br />
			* Put the CD into the CD-ROM tray of the Windows-PC and wait for the autorun.<br />
			Click "continue" until a shell window pops up and enter:</p>
<pre>
ssh -X username@xxx.xxx.xxx.xxx 
</pre>
      			<p>Note: xxx.xxx.xxx.xxx is the IP of the linux remote computer or its URL (for example a dyndns.org account) and the username is of course one user account that exists on the remote machine. After successfull login, start "kmail" for example and check your mails!</p>

			<p>Important: make sure hosts.allow has an entry to allow access from PCs from other networks. If you are behind a NAT-Firewall or a router make sure port 22 is forwarded to your linux machine</p>
	</div>
		<div class="divider" id="ssh-f">
			<h2>SSH with Konqueror</h2>

			<p>Konqueror has a graphical tool for SSH connections called the <span class="highlight-1">fish:// protocol</span>.</p>


			<p>How it works:<br />
			1) Open a new Konqueror window<br />
			2) Enter into the address bar: <span class="highlight-3">fish://username@ssh-server.com</span></p>
			<p>Example 1: A popup opens that asks for your ssh password, enter it and click OK:</p>
<pre>
Example 1: fish://sidux1@my-home-server.dyndns.org
</pre>
			<p>Example 2: In this form you will <span class="highlight-3">NOT</span> get a popup asking for a password you will be directly connected.:</p>
<pre>
Example 2: fish://username:password@ssh-server.com
</pre>
			<p>The SSH connection now is initialized. With this Konqueror window, you can work with the files (copy/view) that are on the SSH server just as if the files would be in a folder on your local machine.</p>
		
	</div>
	<div class="spacer05"></div>
</div>
</div>
</div>
</body>
</html>